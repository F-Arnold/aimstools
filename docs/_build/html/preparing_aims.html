

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Preparing AIMS calculations &mdash; AIMS_tools 0.01 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="AIMS_tools" href="modules.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> AIMS_tools
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Preparing AIMS calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">AIMS_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AIMS_tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Preparing AIMS calculations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/preparing_aims.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="preparing-aims-calculations">
<h1>Preparing AIMS calculations<a class="headerlink" href="#preparing-aims-calculations" title="Permalink to this headline">¶</a></h1>
<p>The <strong>prepare_aims.py</strong> script contains simply functionalities to set up the files needed for different tasks.
Therefore, it sets up an ASE calculator object. In the current version of ASE (3.18), only single-points and forces are implemented for AIMS.
To circumvene this limitation, the input files are generated and modified.</p>
<p>The input is any file supported by the ASE containing (periodic) coordinate informations, e.g., xyz, cif or POSCAR.</p>
<p>Simply run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python prepare_aims.py geometry_inputfile
</pre></div>
</div>
<p>The script has many different options. Show these with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python prepare_aims.py --help
</pre></div>
</div>
<p>This will print out:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usage: prepare_aims.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-cluster CLUSTER<span class="o">]</span> <span class="o">[</span>-m MEMORY<span class="o">]</span> <span class="o">[</span>-n NODES<span class="o">]</span>
                       <span class="o">[</span>-ppn PPN<span class="o">]</span> <span class="o">[</span>-wt WALLTIME<span class="o">]</span> <span class="o">[</span>-xc XC<span class="o">]</span> <span class="o">[</span>-spin SPIN<span class="o">]</span>
                       <span class="o">[</span>-tier TIER<span class="o">]</span> <span class="o">[</span>-basis BASIS<span class="o">]</span>
                       <span class="o">[</span>-k_grid K_GRID <span class="o">[</span>K_GRID ...<span class="o">]]</span> <span class="o">[</span>-SOC SOC<span class="o">]</span>
                       <span class="o">[</span>-task TASK <span class="o">[</span>TASK ...<span class="o">]]</span> <span class="o">[</span>-pbc PBC<span class="o">]</span> <span class="o">[</span>-vdw VDW<span class="o">]</span>
                       geometry

positional arguments:
  geometry              Path to geometry

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -cluster CLUSTER      t3000 or taurus <span class="o">(</span>default: t3000<span class="o">)</span>
  -m MEMORY, --memory MEMORY
                        memory in GB <span class="o">(</span>default: <span class="m">63</span><span class="o">)</span>
  -n NODES, --nodes NODES
                        number of nodes <span class="o">(</span>default: <span class="m">4</span><span class="o">)</span>
  -ppn PPN              processors per node <span class="o">(</span>default: <span class="m">20</span><span class="o">)</span>
  -wt WALLTIME, --walltime WALLTIME
                        walltime in hours <span class="o">(</span>default: <span class="m">72</span><span class="o">)</span>
  -xc XC                exchange correlation functional <span class="o">(</span>default pbe<span class="o">)</span>
  -spin SPIN            spin keyword <span class="o">(</span>default none<span class="o">)</span>
  -tier TIER            basis <span class="nb">set</span> tier <span class="o">(</span>default <span class="m">2</span><span class="o">)</span>
  -basis BASIS          basis <span class="nb">set</span> <span class="nb">type</span> <span class="o">(</span>default tight<span class="o">)</span>
  -k_grid K_GRID <span class="o">[</span>K_GRID ...<span class="o">]</span>
                        k-points per reciprocal lattice direction <span class="k">for</span> x, y, z
                        <span class="o">(</span>default: <span class="m">6</span> <span class="m">6</span> <span class="m">6</span><span class="o">)</span>
  -SOC SOC              include spin-orbit coupling <span class="o">(</span>default False<span class="o">)</span>
  -task TASK <span class="o">[</span>TASK ...<span class="o">]</span>
                        list of task<span class="o">(</span>s<span class="o">)</span> to perform: None <span class="o">(</span>default<span class="o">)</span> <span class="o">=</span> single
                        point<span class="p">;</span> <span class="nv">BS</span> <span class="o">=</span> band structure<span class="p">;</span> <span class="nv">DOS</span> <span class="o">=</span> <span class="o">(</span>atom-projected<span class="o">)</span>
                        density of states<span class="p">;</span> <span class="nv">GO</span> <span class="o">=</span> geometry optimisation
  -pbc PBC              Specify 2D periodic boundary conditions <span class="k">if</span> your
                        coordinate file does not support 2D pbc with --pbc 2D.
  -vdw VDW              Add vdW correction, e.g., TS <span class="k">for</span>
                        vdw_correction_hirshfeld or MBD <span class="k">for</span>
                        many_body_dispersion <span class="o">(</span>default: None<span class="o">)</span>.
                        many_body_dispersion <span class="o">(</span>default: None<span class="o">)</span>.
</pre></div>
</div>
<p>The script will automatically generate the geometry.in, control.in and a submission file for the Taurus or T3000 cluster with a couple of senseful default options, but please refer to the AIMS manual for detailed options.
Don’t forget that every AIMS calculation needs to be in its own separate directory. If you have a directory with a lot of structures, this can easily be done with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> d in *.xyz<span class="p">;</span> <span class="k">do</span> <span class="o">(</span>mkdir <span class="si">${</span><span class="nv">d</span><span class="p">%.xyz</span><span class="si">}</span> <span class="o">&amp;&amp;</span> mv <span class="nv">$d</span> <span class="si">${</span><span class="nv">d</span><span class="p">%.xyz</span><span class="si">}</span>/<span class="o">)</span><span class="p">;</span> <span class="k">done</span><span class="o">)</span>
</pre></div>
</div>
<p>An example would look like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python prepare_aims.py MoS2.cif -cluster t3000 -m <span class="m">63</span> -n <span class="m">4</span> -wt <span class="m">72</span> -xc hse06 -tier <span class="m">2</span> -basis tight -k_grid <span class="m">6</span> <span class="m">6</span> <span class="m">1</span> -pbc 2D -vdw MBD -SOC True -task BS DOS
</pre></div>
</div>
<p>This will set up a band structure calculation following AFLOW conventions for the t3000 cluster with spin-orbit coupling and atom-projected densities of states on a 6x6x1 k-grid. Because .cif files are always three-dimensional,
the -pbc 2D option is used to remove the third lattice vector for setting up the band structure path, but not for the geometry. Note that AIMS does not support 2D boundary conditions, but simply uses a large lattice vector in
the z-direction (for example 100 Angström). This option fails for systems where the c-axis is not orthogonal to a and b, since then the alpha and beta angle need to be removed first.</p>
<p>The job can then simply be submitted via qsub on the *.sh script (t3000) or sbatch on the *.sh script (taurus). See taurus node limitations <a class="reference external" href="https://doc.zih.tu-dresden.de/hpc-wiki/bin/view/Compendium/SystemTaurus">here</a>.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules.html" class="btn btn-neutral float-right" title="AIMS_tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Roman Kempt

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>